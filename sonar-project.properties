# SonarQube Configuration for Uncharted Lands Server
# Based on: https://docs.sonarsource.com/sonarqube-server/project-administration/setting-analysis-scope

# Project identification
sonar.projectKey=KungRaseri_uncharted-lands-server
sonar.organization=kungraseri

# Source directories (exclude __tests__ by listing only production directories)
# Patterns are relative to project base directory
# Using comma-separated list to explicitly exclude test directories
sonar.sources=src

# Test directories (files here are AUTOMATICALLY excluded from duplication)
sonar.tests=src/__tests__

# Explicitly exclude test directory from source analysis
# This ensures __tests__ is not treated as source code
sonar.exclusions=\
  **/node_modules/**,\
  **/dist/**,\
  **/build/**,\
  **/coverage/**,\
  **/*.config.js,\
  **/*.config.ts,\
  src/__tests__/**

# Duplication exclusions (belt-and-suspenders approach)
# Files in sonar.tests should already be excluded, but we add explicit patterns
# to ensure test files are never analyzed for duplication
sonar.cpd.exclusions=\
  **/test/**,\
  **/__tests__/**,\
  **/*Test.ts,\
  **/*.test.ts,\
  **/*.spec.ts

# Test file patterns
sonar.test.inclusions=**/*.test.ts,**/*.spec.ts

# Coverage and test report paths
sonar.javascript.lcov.reportPaths=coverage/lcov.info
sonar.testExecutionReportPaths=coverage/test-report.xml

# TypeScript/JavaScript settings
sonar.typescript.tsconfigPath=tsconfig.json
